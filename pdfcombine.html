<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Combine - Office Sigma</title>
    <link rel="icon" type="image/png" href="/static/tab_icon.png">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="/" class="home-btn">
                <img src="/static/office-logo.png" alt="Office Sigma" class="home-btn-icon">
                <span class="home-btn-text">The office sigma</span>
            </a>
        </div>
    </header>

    <main class="main">
        <section class="hero">
            <div class="container">
                <h1 class="hero-title">PDF Combine Tool</h1>
                <p class="hero-description">
                    Combine multiple PDF files into one document with ease. Upload your PDFs, arrange them in the order you want, and download the combined result.
                </p>
            </div>
        </section>

        <section class="process-steps">
            <div class="container">
                <div class="steps">
                    <div class="step" id="step1">
                        <div class="step-number">1</div>
                        <h3>Upload PDF Files</h3>
                        <p>Select multiple PDF files to combine</p>
                    </div>
                    <div class="step" id="step2">
                        <div class="step-number">2</div>
                        <h3>Arrange Order</h3>
                        <p>Drag and drop to reorder your files</p>
                    </div>
                    <div class="step" id="step3">
                        <div class="step-number">3</div>
                        <h3>Download Result</h3>
                        <p>Get your combined PDF document</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="upload-section" id="upload-section">
            <div class="container">
                <h2>Step 1: Upload PDF Files</h2>
                
                <!-- Upload Statistics -->
                <div class="upload-stats" id="upload-stats">
                    <div class="stat">
                        <span class="stat-label">Files:</span>
                        <span class="stat-value" id="file-count">0/20</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Total Size:</span>
                        <span class="stat-value" id="total-size">0 MB / 200 MB</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Total Pages:</span>
                        <span class="stat-value" id="total-pages">0</span>
                    </div>
                </div>

                <!-- File Upload Area -->
                <div class="upload-area" id="pdf-upload-area">
                    <div class="upload-icon">üìÑ</div>
                    <h3>Drag & Drop PDF files here</h3>
                    <p>or click to select files</p>
                    <p class="upload-limits">Max 20 files ‚Ä¢ 50MB per file ‚Ä¢ 200MB total</p>
                    <input type="file" id="pdf-file-input" multiple accept=".pdf" style="display: none;">
                    <button type="button" class="upload-btn" onclick="document.getElementById('pdf-file-input').click()">
                        Choose PDF Files
                    </button>
                </div>

                <!-- PDF File List -->
                <div class="pdf-list-container" id="pdf-list-container" style="display: none;">
                    <h3>Uploaded PDF Files</h3>
                    <div class="pdf-list" id="pdf-list">
                        <!-- Dynamic content will be inserted here -->
                    </div>
                    <div class="list-actions">
                        <button type="button" class="btn btn-secondary" id="clear-all-btn">Clear All</button>
                        <button type="button" class="btn btn-primary" id="proceed-to-combine">Proceed to Combine</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="arrange-section" id="arrange-section" style="display: none;">
            <div class="container">
                <h2>Step 2: Arrange PDF Order</h2>
                <p>Drag and drop the files below to change their order in the final combined PDF.</p>
                
                <div class="sortable-list" id="sortable-pdf-list">
                    <!-- Dynamic content will be inserted here -->
                </div>
                
                <div class="arrange-actions">
                    <button type="button" class="btn btn-secondary" id="back-to-upload">‚Üê Back to Upload</button>
                    <button type="button" class="btn btn-primary" id="combine-pdfs-btn">Combine PDFs</button>
                </div>
            </div>
        </section>

        <section class="result-section" id="result-section" style="display: none;">
            <div class="container">
                <h2>Step 3: Download Your Combined PDF</h2>
                
                <div class="result-card">
                    <div class="result-icon">‚úÖ</div>
                    <h3>PDF Combined Successfully!</h3>
                    <p id="result-message">Your PDFs have been combined into one document.</p>
                    
                    <div class="download-actions">
                        <button type="button" class="btn btn-primary" id="download-btn">
                            üì• Download Combined PDF
                        </button>
                        <button type="button" class="btn btn-secondary" id="start-new">Start New Combination</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Loading Overlay -->
        <div class="loading-overlay" id="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <p id="loading-text">Processing your request...</p>
        </div>

        <!-- Error Messages -->
        <div class="error-toast" id="error-toast" style="display: none;">
            <div class="error-content">
                <span class="error-icon">‚ö†Ô∏è</span>
                <span class="error-message" id="error-message"></span>
                <button class="error-close" onclick="hideError()">√ó</button>
            </div>
        </div>

        <!-- Success Messages -->
        <div class="success-toast" id="success-toast" style="display: none;">
            <div class="success-content">
                <span class="success-icon">‚úÖ</span>
                <span class="success-message" id="success-message"></span>
                <button class="success-close" onclick="hideSuccess()">√ó</button>
            </div>
        </div>
    </main>

    <script src="pdfcombine.js"></script>
</body>
</html>